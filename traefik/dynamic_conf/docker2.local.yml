# docker2.local.yml

http:
  routers:
    docker2-local:
      entryPoints:
        - web 
      rule: "Host(`docker2.local`)"
      middlewares:
        - redirect-to-https@file
      service: "apache-service@file"

    docker2-local-ssl:
      entryPoints:
        - websecure
      rule: "Host(`docker2.local`)"
      service: "apache-service@file"
      middlewares:
        - "docker2-local-stripprefix@file"
      tls: {}
  
  middlewares:
    docker2-local-stripprefix:
      stripPrefix:
        prefixes:
          - /

    redirect-to-https:
      redirectScheme:
        scheme: https
        permanent: false # Usamos 302 (false) por ahora para evitar cach√©