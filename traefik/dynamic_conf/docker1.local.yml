# docker1.local.yml

http:
  routers:
    docker1-local:
      entryPoints:
        - web 
      rule: "Host(`docker1.local`)"
      middlewares:
        - redirect-to-https@file
      service: "apache-service@file"

    docker1-local-ssl:
      entryPoints:
        - websecure
      rule: "Host(`docker1.local`)"
      service: "apache-service@file"
      middlewares:
        - "docker1-local-stripprefix@file"
      tls: {}
  
  middlewares:
    docker1-local-stripprefix:
      stripPrefix:
        prefixes:
          - /
    
    redirect-to-https:
      redirectScheme:
        scheme: https
        permanent: false # Usamos 302 (false) por ahora para evitar cach√©
